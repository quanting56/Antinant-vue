import{_ as x,r as v,c as s,f as r,b as l,y as B,z as P,h as S,t as u,F as A,d as F,n as I}from"./index-CzRUwQiI.js";const N={class:"palette-container"},T={class:"button-group"},$={key:0,class:"error"},z={key:0,class:"empty-msg"},E={key:1,class:"color-grid"},J={class:"color-code"},O={class:"color-info"},R={class:"color-details"},V={class:"color-actions"},j=["onClick"],D=["onClick"],_='["#356323", "#758323", "#321114"]',L={__name:"ColorPalettePreview",setup(M){const i=v(_),a=v([]),c=v("");function d(){c.value="";try{const o=JSON.parse(i.value);if(!Array.isArray(o))throw new Error("輸入必須為陣列");const t=o.map(e=>typeof e=="string"?e.trim():e).filter(Boolean).map(e=>g(e)).filter(Boolean);if(t.length===0)throw new Error("沒有合法的 hex 色碼");a.value=t}catch(o){c.value="解析錯誤："+(o.message||o),a.value=[]}}function g(o){if(typeof o!="string")return null;const t=o.match(/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/);if(!t)return null;let e=t[1];return e.length===3&&(e=e.split("").map(n=>n+n).join("")),"#"+e.toLowerCase()}function h(o){const t=m(o);if(!t)return"#000";const[e,n,p]=t.map(C=>{const f=C/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)});return .2126*e+.7152*n+.0722*p>.179?"#000":"#fff"}function m(o){if(!o)return null;const t=o.replace("#","");return t.length===6?[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]:null}function b(o){const t=m(o);return t?`rgb(${t.join(",")})`:"-"}async function y(o){try{await navigator.clipboard.writeText(o),alert(`已複製 ${o}`)}catch{alert("複製失敗")}}function k(o){a.value.splice(o,1)}function w(){i.value=_,d()}return d(),(o,t)=>(r(),s("div",N,[t[1]||(t[1]=l("h2",null,"🎨 Color Palette Preview",-1)),t[2]||(t[2]=l("label",{for:"input"},"輸入色碼陣列（JSON 格式）",-1)),B(l("textarea",{id:"input","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),rows:"4",placeholder:'例如：["#356323","#758323","#321114"]'},null,512),[[P,i.value]]),l("div",T,[l("button",{onClick:d,class:"btn primary"},"解析並顯示"),l("button",{onClick:w,class:"btn secondary"},"恢復範例"),c.value?(r(),s("span",$,u(c.value),1)):S("",!0)]),a.value.length===0?(r(),s("div",z," 尚未解析到有效色碼 ")):(r(),s("div",E,[(r(!0),s(A,null,F(a.value,(e,n)=>(r(),s("div",{key:e+"-"+n,class:"color-card"},[l("div",{class:"color-box",style:I({background:e,color:h(e)})},[l("span",J,u(e),1)],4),l("div",O,[l("div",R,[l("span",null,u(e),1),l("small",null,"RGB: "+u(b(e)),1)]),l("div",V,[l("button",{class:"btn small copy",onClick:p=>y(e)},"複製",8,j),l("button",{class:"btn small delete",onClick:p=>k(n)},"刪除",8,D)])])]))),128))])),t[3]||(t[3]=l("div",{class:"tips"},[l("p",null,[l("strong",null,"提示：")]),l("ul",null,[l("li",null,"輸入需為合法 JSON 陣列，元素為 hex 色碼（支援 #fff 或 #ffffff）。"),l("li",null,"你可直接修改輸入框內容後再按「解析並顯示」。")])],-1))]))}},U=x(L,[["__scopeId","data-v-a6dff25d"]]);export{U as default};
