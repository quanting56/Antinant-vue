import{_ as B,r as h,o as P,x as W,c as H,f as D,k as I,i as s,y as $,b as o,g as X,B as V,t as g,F as j}from"./index-B1OBybhT.js";import"./transform-DNQUPihx.js";import{l as M}from"./linear-IoaARM7T.js";import{m as q}from"./max-DBeXZoyG.js";import{s as C}from"./select-1EGbaqqT.js";import{a as z,c as J}from"./axis-qL51v-F_.js";import{l as K}from"./line-CnRH6wfh.js";import{p as O}from"./pointer-BV9FWJ6s.js";import"./continuous-DdKr3jbY.js";import"./value-BWAEs6ZY.js";import"./round-O1hten6x.js";import"./init-Dmth1JHB.js";import"./defaultLocale-B0Uv6ZVb.js";import"./array-DEnAxiAM.js";import"./constant-BhYcI2Bl.js";import"./path-CsjuoHvu.js";const Q={__name:"CompoundInterestCalculatorChart",props:{data:Array},setup(F){const n=h(null),a=F;let r,p,d,y,b,v;P(()=>{const i=parseInt(C(n.value).style("width")),l={top:50,right:120,bottom:50,left:60};r=C(n.value).append("svg").attr("width",i).attr("height",300),p=M().range([l.left,i-l.right]),d=M().range([300-l.bottom,l.top]),y=r.append("g").attr("transform",`translate(0, ${300-l.bottom})`),b=r.append("g").attr("transform",`translate(${l.left}, 0)`),v=r.append("path").attr("fill","none").attr("stroke","#42b983").attr("stroke-width",2),t(a.data)}),W(()=>a.data,e=>{t(e)});function t(e){if(!e||e.length===0)return;const i=300;parseInt(C(n.value).style("width"));const l={top:50,right:120,bottom:50,left:60};p.domain([0,e.length-1]),d.domain([0,q(e)]);const k=z(p).ticks(e.length).tickFormat(u=>`第${u}年`),m=J(d).tickFormat(u=>`${u}萬 元`);y.transition().duration(500).call(k),y.selectAll("text").attr("transform","translate(-20,15) rotate(-45)"),b.transition().duration(500).call(m);const w=K().x((u,c)=>p(c)).y(u=>d(u));v.datum(e).transition().duration(500).attr("d",w),x(r,e,p,d,l,i)}function x(e,i,l,k,m,w){e.selectAll("rect.mouse-overlay").remove(),e.selectAll("g.focus-dot").remove(),e.append("rect").classed("mouse-overlay",!0).style("fill","transparent").style("pointer-events","all").style("cursor","pointer").attr("width",parseInt(C(n.value).style("width"))-m.left-m.right).attr("height",w-m.top-m.bottom).style("transform",`translate(${m.left}px, ${m.top}px)`).on("mouseover",G).on("mousemove",N).on("mouseout",T);const u=e.append("g").classed("focus-dot",!0).append("circle").style("fill","#ffffff").style("stroke","#000000").style("stroke-width",.8).attr("r",3).style("opacity",0),c=e.append("text").style("opacity",0).attr("text-anchor","start").attr("alignment-baseline","middle");function G(){u.style("opacity",1),c.style("opacity",1)}function N(L){const[U]=O(L,this),E=l.invert(U);let f=Math.round(E);if(f<0||f>=i.length||i[f]===void 0)return;const A=i[f];u.attr("cx",l(f)).attr("cy",k(A)),c.text(`第${f}年，本利和${A.toFixed(0)}萬元`).attr("x",l(f)-20).attr("y",k(A)-20)}function T(){u.style("opacity",0),c.style("opacity",0)}}return(e,i)=>(D(),H("div",{ref_key:"chart",ref:n},null,512))}},R=B(Q,[["__scopeId","data-v-0747add3"]]),S={__name:"CompoundInterestCalculator",setup(F){const n=h(0),a=h(100),r=h(5),p=I(()=>a.value*Math.pow(1+r.value/100,n.value)),d=()=>{n.value++},y=()=>{n.value=0,a.value=100,r.value=5},b=I(()=>{const v=[];for(let t=0;t<=n.value;t++)v.push(Number(a.value*Math.pow(1+r.value/100,t).toFixed(2)));return v});return(v,t)=>(D(),H(j,null,[t[11]||(t[11]=s(" 輸入起始金額： ")),$(o("input",{type:"text",placeholder:"本金","onUpdate:modelValue":t[0]||(t[0]=x=>a.value=x)},null,512),[[V,a.value,void 0,{number:!0}]]),t[12]||(t[12]=s(" 萬")),t[13]||(t[13]=o("br",null,null,-1)),t[14]||(t[14]=s(" 利率為：")),$(o("input",{placeholder:"請輸入利率","onUpdate:modelValue":t[1]||(t[1]=x=>r.value=x)},null,512),[[V,r.value,void 0,{number:!0}]]),t[15]||(t[15]=s(" ％")),t[16]||(t[16]=o("br",null,null,-1)),o("button",{onClick:d},"1 year later"),o("button",{onClick:y},"reset"),o("p",null,[t[2]||(t[2]=s(" 第 ")),o("b",null,g(n.value),1),t[3]||(t[3]=s(" 年")),t[4]||(t[4]=o("br",null,null,-1)),t[5]||(t[5]=s(" 起初 ")),o("b",null,g(a.value),1),t[6]||(t[6]=s(" 萬，After ")),o("b",null,g(r.value.toFixed(2))+"%",1),t[7]||(t[7]=s(" compound interest is: ")),o("b",null,g(p.value.toFixed(2))+" 萬",1),t[8]||(t[8]=o("br",null,null,-1)),t[9]||(t[9]=s(" 此時投資報酬率為 ")),o("b",null,g((p.value/a.value*100-100).toFixed(2)),1),t[10]||(t[10]=s(" ％。 "))]),X(R,{data:b.value},null,8,["data"])],64))}},ft=B(S,[["__scopeId","data-v-e4b3722d"]]);export{ft as default};
