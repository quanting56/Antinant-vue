import"./transform-DNQUPihx.js";import{l}from"./linear-IoaARM7T.js";import{m as c}from"./max-DBeXZoyG.js";import{m as T}from"./min-D1slsF82.js";import{o as B}from"./ordinal-BXh_4XLC.js";import{r as C,o as P,c as z,f as G}from"./index-BAufjqWq.js";import{s as p}from"./select-1EGbaqqT.js";import{c as j}from"./dsv-CbZ0YcQP.js";import{a as L,c as R}from"./axis-qL51v-F_.js";import{S as H}from"./Set2-BlATX450.js";import{p as g}from"./pointer-BV9FWJ6s.js";import"./continuous-DdKr3jbY.js";import"./value-BWAEs6ZY.js";import"./round-O1hten6x.js";import"./init-Dmth1JHB.js";import"./defaultLocale-B0Uv6ZVb.js";import"./text-5Xu4kz8q.js";import"./colors-Cc3OSVma.js";const h=600,x=400,rt={__name:"D3jsBubbleChartDemo",setup(M){const s=C(null),a={top:20,right:20,bottom:30,left:25},b=h-a.left-a.right,m=x-a.top-a.bottom;return P(async()=>{const e=p(s.value).style("position","relative").append("svg").attr("width",h).attr("height",x),r=await j("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/4_ThreeNum.csv"),_=r.map(t=>+t.gdpPercap),$=r.map(t=>+t.lifeExp),f=r.map(t=>+t.pop),y=l().domain([0,c(_)]).range([a.left,b]).nice(),k=L(y);e.append("g").attr("transform",`translate(0, ${a.top+m})`).call(k);const d=l().domain([0,c($)]).range([a.top+m,a.top]).nice(),A=R(d);e.append("g").attr("transform",`translate(${a.left}, 0)`).call(A);const n=l().domain([T(f),c(f)]).range([4,30]),D=B().domain(["Asia","Europe","Americas","Africa","Oceania"]).range(H),i=p(s.value).append("div").style("position","absolute").style("display","none").attr("class","dotsTooltip").style("background-color","#121212").style("border-radius","5px").style("padding","10px").style("color","#f2f2f2");e.append("g").selectAll("circle").data(r).join("circle").attr("cx",t=>y(t.gdpPercap)).attr("cy",t=>d(t.lifeExp)).attr("r",t=>n(t.pop)).attr("fill",t=>D(t.continent)).attr("opacity",.85).style("cursor","pointer").on("mouseover",E).on("mousemove",S).on("mouseleave",w);function E(t,o){const u=g(t,t.target);i.style("display","block").html(`<p>國家：${o.country}</p>
                  <p>所屬洲：${o.continent}</p>
                  <p>人口數：${(+o.pop).toLocaleString()}</p>
                  <p>平均壽命：${o.lifeExp}</p>
                  <p>人均GDP：${o.gdpPercap}</p>`).style("left",`${u[0]+10}px`).style("top",`${u[1]+10}px`),p(t.target).attr("r",n(o.pop)+5).style("opacity",.7)}function S(t){const o=g(t,t.target);i.style("display","block").style("left",`${o[0]+10}px`).style("top",`${o[1]+10}px`)}function w(t,o){i.style("display","none"),p(t.target).attr("r",n(o.pop)).style("opacity",.85)}}),(e,v)=>(G(),z("div",{ref_key:"bubbleChartRef",ref:s},null,512))}};export{rt as default};
