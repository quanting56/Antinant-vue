import"./transform-DNQUPihx.js";import{l as f}from"./linear-IoaARM7T.js";import{m as x}from"./max-DBeXZoyG.js";import{r as b,o as C,c as D,f as L}from"./index-DXUUkKRE.js";import{s as _}from"./select-1EGbaqqT.js";import{a as w,c as A}from"./axis-qL51v-F_.js";import{l as $}from"./line-CnRH6wfh.js";import{p as B}from"./pointer-BV9FWJ6s.js";import"./continuous-DdKr3jbY.js";import"./value-BWAEs6ZY.js";import"./round-O1hten6x.js";import"./init-Dmth1JHB.js";import"./defaultLocale-B0Uv6ZVb.js";import"./array-DEnAxiAM.js";import"./constant-BhYcI2Bl.js";import"./path-CsjuoHvu.js";const l=600,n=400,e=50,P={__name:"D3jsDefinedLineChartDemo",setup(M){const i=b(null),r=[{x:1,y:120},{x:2,y:355},{x:3,y:0},{x:4,y:470},{x:5,y:19},{x:6,y:90},{x:7,y:0},{x:8,y:220}];return C(()=>{const a=_(i.value).append("svg").attr("width",l).attr("height",n),d=r.map(t=>t.x),h=r.map(t=>t.y),o=f().domain([0,x(d)]).range([e,l-e]).nice(),u=w(o);a.append("g").attr("transform",`translate(0, ${n-e})`).call(u);const s=f().domain([0,x(h)]).range([n-e,e]).nice(),g=A(s);a.append("g").attr("transform",`translate(${e}, 0)`).call(g);const p=$().x(t=>o(t.x)).y(t=>s(t.y)).defined(t=>t.y>0);let c=r.filter(t=>t.y>0);a.append("path").datum(r).attr("d",p(c)).attr("fill","none").attr("stroke","#f68b47").attr("stroke-width","2.5").attr("stroke-dasharray","4, 4"),a.append("path").datum(r).attr("d",p(r)).attr("fill","none").attr("stroke","#f68b47").attr("stroke-width",2.5);const y=_(i.value).style("position","relative").append("div").style("position","absolute").style("opacity","0").style("background-color","white").style("border","1px solid black").style("border-radius","5px").style("padding","5px");a.append("g").selectAll("circle").data(c).join("circle").attr("cx",t=>o(t.x)).attr("cy",t=>s(t.y)).attr("r","5").attr("fill","white").attr("stroke","#f68b47").attr("stroke-width","2").style("cursor","pointer").on("mouseover",k).on("mouseleave",v);function k(t){let m=B(t,t.target);y.style("opacity","1").style("left",m[0]+20+"px").style("top",m[1]+"px").html(`x值：${t.target.__data__.x}<br>y值：${t.target.__data__.y}`),a.append("line").attr("class","definedLineChartDashedX").attr("x1",o(t.target.__data__.x)).attr("y1",n-e).attr("x2",o(t.target.__data__.x)).attr("y2",e).attr("stroke","#f68b46").attr("stroke-dasharray","4"),a.append("line").attr("class","definedLineChartDashedY").attr("x1",e).attr("y1",s(t.target.__data__.y)).attr("x2",l-e).attr("y2",s(t.target.__data__.y)).style("stroke","#f68b47").style("stroke-dasharray","4")}function v(t){y.style("opacity",0),a.selectAll(".definedLineChartDashedX").remove(),a.selectAll(".definedLineChartDashedY").remove()}}),(a,d)=>(L(),D("div",{ref_key:"definedLineChartContainerRef",ref:i},null,512))}};export{P as default};
