import"./transform-DNQUPihx.js";import{g as st}from"./vs2015-txMzNINg.js";import{t as it}from"./time-58CfGA5l.js";import{e as q}from"./extent-Ccx1MofX.js";import{l as at}from"./linear-IoaARM7T.js";import{r as ot,o as ut,c as Mt,f as ct}from"./index-B1OBybhT.js";import{s as ft}from"./select-1EGbaqqT.js";import{c as lt}from"./dsv-CbZ0YcQP.js";import{a as Dt,c as ht}from"./axis-qL51v-F_.js";import{l as dt}from"./line-CnRH6wfh.js";import"./continuous-DdKr3jbY.js";import"./value-BWAEs6ZY.js";import"./round-O1hten6x.js";import"./init-Dmth1JHB.js";import"./defaultLocale-B0Uv6ZVb.js";import"./text-5Xu4kz8q.js";import"./array-DEnAxiAM.js";import"./constant-BhYcI2Bl.js";import"./path-CsjuoHvu.js";var H={exports:{}},mt=H.exports,G;function tt(){return G||(G=1,function(I,g){(function(_,p){I.exports=p()})(mt,function(){var _=1e3,p=6e4,h=36e5,j="millisecond",M="second",m="minute",y="hour",x="day",S="week",T="month",F="quarter",N="year",E="date",A="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,rt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],t=s%100;return"["+s+(r[(t-20)%10]||r[t]||r[0])+"]"}},V=function(s,r,t){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(t)+s},nt={s:V,z:function(s){var r=-s.utcOffset(),t=Math.abs(r),n=Math.floor(t/60),e=t%60;return(r<=0?"+":"-")+V(n,2,"0")+":"+V(e,2,"0")},m:function s(r,t){if(r.date()<t.date())return-s(t,r);var n=12*(t.year()-r.year())+(t.month()-r.month()),e=r.clone().add(n,T),i=t-e<0,a=r.clone().add(n+(i?-1:1),T);return+(-(n+(t-e)/(i?e-a:a-e))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:T,y:N,w:S,d:x,D:E,h:y,m,s:M,ms:j,Q:F}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},C="en",Y={};Y[C]=rt;var B="$isDayjsObject",W=function(s){return s instanceof R||!(!s||!s[B])},z=function s(r,t,n){var e;if(!r)return C;if(typeof r=="string"){var i=r.toLowerCase();Y[i]&&(e=i),t&&(Y[i]=t,e=i);var a=r.split("-");if(!e&&a.length>1)return s(a[0])}else{var u=r.name;Y[u]=r,e=u}return!n&&e&&(C=e),e||!n&&C},f=function(s,r){if(W(s))return s.clone();var t=typeof r=="object"?r:{};return t.date=s,t.args=arguments,new R(t)},o=nt;o.l=z,o.i=W,o.w=function(s,r){return f(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var R=function(){function s(t){this.$L=z(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[B]=!0}var r=s.prototype;return r.parse=function(t){this.$d=function(n){var e=n.date,i=n.utc;if(e===null)return new Date(NaN);if(o.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var a=e.match(D);if(a){var u=a[2]-1||0,c=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],u,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)):new Date(a[1],u,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)}}return new Date(e)}(t),this.init()},r.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},r.$utils=function(){return o},r.isValid=function(){return this.$d.toString()!==A},r.isSame=function(t,n){var e=f(t);return this.startOf(n)<=e&&e<=this.endOf(n)},r.isAfter=function(t,n){return f(t)<this.startOf(n)},r.isBefore=function(t,n){return this.endOf(n)<f(t)},r.$g=function(t,n,e){return o.u(t)?this[n]:this.set(e,t)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(t,n){var e=this,i=!!o.u(n)||n,a=o.p(t),u=function(Q,w){var L=o.w(e.$u?Date.UTC(e.$y,w,Q):new Date(e.$y,w,Q),e);return i?L:L.endOf(x)},c=function(Q,w){return o.w(e.toDate()[Q].apply(e.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(w)),e)},l=this.$W,d=this.$M,$=this.$D,k="set"+(this.$u?"UTC":"");switch(a){case N:return i?u(1,0):u(31,11);case T:return i?u(1,d):u(0,d+1);case S:var v=this.$locale().weekStart||0,U=(l<v?l+7:l)-v;return u(i?$-U:$+(6-U),d);case x:case E:return c(k+"Hours",0);case y:return c(k+"Minutes",1);case m:return c(k+"Seconds",2);case M:return c(k+"Milliseconds",3);default:return this.clone()}},r.endOf=function(t){return this.startOf(t,!1)},r.$set=function(t,n){var e,i=o.p(t),a="set"+(this.$u?"UTC":""),u=(e={},e[x]=a+"Date",e[E]=a+"Date",e[T]=a+"Month",e[N]=a+"FullYear",e[y]=a+"Hours",e[m]=a+"Minutes",e[M]=a+"Seconds",e[j]=a+"Milliseconds",e)[i],c=i===x?this.$D+(n-this.$W):n;if(i===T||i===N){var l=this.clone().set(E,1);l.$d[u](c),l.init(),this.$d=l.set(E,Math.min(this.$D,l.daysInMonth())).$d}else u&&this.$d[u](c);return this.init(),this},r.set=function(t,n){return this.clone().$set(t,n)},r.get=function(t){return this[o.p(t)]()},r.add=function(t,n){var e,i=this;t=Number(t);var a=o.p(n),u=function(d){var $=f(i);return o.w($.date($.date()+Math.round(d*t)),i)};if(a===T)return this.set(T,this.$M+t);if(a===N)return this.set(N,this.$y+t);if(a===x)return u(1);if(a===S)return u(7);var c=(e={},e[m]=p,e[y]=h,e[M]=_,e)[a]||1,l=this.$d.getTime()+t*c;return o.w(l,this)},r.subtract=function(t,n){return this.add(-1*t,n)},r.format=function(t){var n=this,e=this.$locale();if(!this.isValid())return e.invalidDate||A;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=o.z(this),u=this.$H,c=this.$m,l=this.$M,d=e.weekdays,$=e.months,k=e.meridiem,v=function(w,L,O,b){return w&&(w[L]||w(n,i))||O[L].slice(0,b)},U=function(w){return o.s(u%12||12,w,"0")},Q=k||function(w,L,O){var b=w<12?"AM":"PM";return O?b.toLowerCase():b};return i.replace(et,function(w,L){return L||function(O){switch(O){case"YY":return String(n.$y).slice(-2);case"YYYY":return o.s(n.$y,4,"0");case"M":return l+1;case"MM":return o.s(l+1,2,"0");case"MMM":return v(e.monthsShort,l,$,3);case"MMMM":return v($,l);case"D":return n.$D;case"DD":return o.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return v(e.weekdaysMin,n.$W,d,2);case"ddd":return v(e.weekdaysShort,n.$W,d,3);case"dddd":return d[n.$W];case"H":return String(u);case"HH":return o.s(u,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return Q(u,c,!0);case"A":return Q(u,c,!1);case"m":return String(c);case"mm":return o.s(c,2,"0");case"s":return String(n.$s);case"ss":return o.s(n.$s,2,"0");case"SSS":return o.s(n.$ms,3,"0");case"Z":return a}return null}(w)||a.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(t,n,e){var i,a=this,u=o.p(n),c=f(t),l=(c.utcOffset()-this.utcOffset())*p,d=this-c,$=function(){return o.m(a,c)};switch(u){case N:i=$()/12;break;case T:i=$();break;case F:i=$()/3;break;case S:i=(d-l)/6048e5;break;case x:i=(d-l)/864e5;break;case y:i=d/h;break;case m:i=d/p;break;case M:i=d/_;break;default:i=d}return e?i:o.a(i)},r.daysInMonth=function(){return this.endOf(T).$D},r.$locale=function(){return Y[this.$L]},r.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),i=z(t,n,!0);return i&&(e.$L=i),e},r.clone=function(){return o.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),J=R.prototype;return f.prototype=J,[["$ms",j],["$s",M],["$m",m],["$H",y],["$W",x],["$M",T],["$y",N],["$D",E]].forEach(function(s){J[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),f.extend=function(s,r){return s.$i||(s(r,R,f),s.$i=!0),f},f.locale=z,f.isDayjs=W,f.unix=function(s){return f(1e3*s)},f.en=Y[C],f.Ls=Y,f.p={},f})}(H)),H.exports}var yt=tt();const wt=st(yt);var K={exports:{}},Tt=K.exports,P;function $t(){return P||(P=1,function(I,g){(function(_,p){I.exports=p(tt())})(Tt,function(_){function p(M){return M&&typeof M=="object"&&"default"in M?M:{default:M}}var h=p(_),j={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(M,m){return m==="W"?M+"週":M+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(M,m){var y=100*M+m;return y<600?"凌晨":y<900?"早上":y<1100?"上午":y<1300?"中午":y<1800?"下午":"晚上"}};return h.default.locale(j,null,!0),j})}(K)),K.exports}$t();const pt="data:text/csv;base64,77u/ZGF0ZSxwcmljZQ0KMDk2UTMsMTM3My4yNQ0KMDk2UTQsOTk2LjINCjA5N1ExLDExNjUuMDUNCjA5N1EyLDE2NDEuOTENCjA5N1EzLDE1MDkuNjMNCjA5N1E0LDExMzcuNQ0KMDk4UTEsMTA5Mi4wMQ0KMDk4UTIsMTIyMy45Mg0KMDk4UTMsMTM1OS4yNg0KMDk4UTQsMTUyOS44MQ0KMDk5UTEsMTYxMy43NQ0KMDk5UTIsMTYxOS4zDQowOTlRMywxNDUyLjgyDQowOTlRNCwxNzU1LjUyDQoxMDBRMSwyMTYwLjA3DQoxMDBRMiwxOTY3LjYxDQoxMDBRMywyMDA4LjQNCjEwMFE0LDE3NTQuODcNCjEwMVExLDE4NDcuMTUNCjEwMVEyLDI0MDIuNzYNCjEwMVEzLDIxNTguNDgNCjEwMVE0LDIxMzAuNTENCjEwMlExLDIyODIuMQ0KMTAyUTIsMTk5NC4zDQoxMDJRMywyMjY0LjINCjEwMlE0LDE5MDcuNw0KMTAzUTEsMTkzMy44DQoxMDNRMiwyMTg2LjQNCjEwM1EzLDIyMDUuMw0KMTAzUTQsMTg4NC41DQoxMDRRMSwyNTMyLjgNCjEwNFEyLDIxMDkuNw0KMTA0UTMsMjMzMy41DQoxMDRRNCwyMTUyDQoxMDVRMSwyNTkxDQoxMDVRMiwyNDU1LjQNCjEwNVEzLDI0MTkuMg0KMTA1UTQsMjYwMy43DQoxMDZRMSwyMjgzLjYNCjEwNlEyLDI0NjguMw0KMTA2UTMsMjE0Mi45DQoxMDZRNCwyNTc1LjkNCjEwN1ExLDIxMzQuNw0KMTA3UTIsMjQzNS40DQoxMDdRMywyNDQ1LjYNCjEwN1E0LDIyMjQuMw0KMTA4UTEsMTg1MA0KMTA4UTIsMjA0Ny4xDQoxMDhRMywyMzU4LjYNCjEwOFE0LDIyNzkuNg0KMTA5UTEsMTk1MQ0KMTA5UTIsMjI2Ni41DQoxMDlRMywyMjMzLjUNCjEwOVE0LDIyMTIuMQ0KMTEwUTEsMjQzMi4yDQoxMTBRMiwyMjIyLjkNCjExMFEzLDIyODMuMQ0KMTEwUTQsMjU0NC42DQoxMTFRMSwyMjgwLjINCjExMVEyLDIyOTcuMw0KMTExUTMsMjMwNy41DQoxMTFRNCwyNDQxDQoxMTJRMSwyNTA3LjINCjExMlEyLDI0MDQuOQ0KMTEyUTMsMjEyMy43DQoxMTJRNCwyNzM4LjYNCjExM1ExLDI2NDMuMw==",X=600,Z=400,bt={__name:"D3jsLineChartDemo",setup(I){const g={top:20,bottom:60,right:20,left:60},_=ot(null),p=h=>{h=h.replace(/\d{3}/,m=>String(+m+1911));const j={Q1:"-01-01",Q2:"-04-01",Q3:"-07-01",Q4:"-10-01"},M=h.match(/Q\d/)[0];return h=h.replace(M,j[M]),new Date(h)};return ut(async()=>{const h=ft(_.value),M=(await lt(pt)).map(D=>(D.date=p(D.date),D)),m=M.map(D=>D.date),y=M.map(D=>+D.price),x=it().domain(q(m)).range([g.left,X-g.right]).nice();let S=window.innerWidth>900?m.length/3:10;const T=Dt(x).ticks(S).tickFormat(D=>wt(D).format("YYYY/MM/DD"));h.append("g").attr("transform",`translate(0, ${Z-g.bottom})`).call(T).style("font-size","12px").selectAll(".tick text").attr("transform","rotate(-45)").attr("x","-35").attr("y","6");const N=at().domain(q(y)).range([Z-g.bottom,g.top]).nice(),E=ht(N).tickFormat(D=>D+"萬");h.append("g").attr("transform",`translate(${g.left}, 0)`).call(E);const A=dt().x(D=>x(D.date)).y(D=>N(+D.price));h.append("path").datum(M).attr("d",A(M)).attr("fill","none").attr("stroke","#f68b47").attr("stroke-width",1.5)}),(h,j)=>(ct(),Mt("svg",{ref_key:"lineChartSvgRef",ref:_,width:X,height:Z},null,512))}};export{bt as default};
