import"./transform-Dremm-ag.js";import{o as v}from"./ordinal-BXh_4XLC.js";import{S as _,p as k,s as w}from"./pie-IcAtCWi4.js";import{r as R,o as $,c as A,f as D}from"./index-DEFtNN6P.js";import{s as e}from"./select-D6al9h2D.js";import{a as d}from"./arc-DcE2_U0A.js";import"./init-Dmth1JHB.js";import"./colors-Cc3OSVma.js";import"./array-DEnAxiAM.js";import"./constant-BhYcI2Bl.js";import"./path-CsjuoHvu.js";const i=420,c=280,S=15,J={__name:"D3jsPieChartDemo",setup(b){const l=R(null),o=[{item:"交通",cost:3e3},{item:"房租",cost:12e3},{item:"日常用品",cost:1400},{item:"吃飯",cost:4e3},{item:"交際應酬",cost:2400}];return $(()=>{const r=e(l.value).append("g").attr("transform",`translate(${i/2}, ${c/2})`),u=v().range(_),a=Math.min(i,c)/2-S,p=k().value(t=>t.cost)(o),h=d().innerRadius(0).outerRadius(a).padAngle(0),g=d().innerRadius(a-10).outerRadius(a),x=r.selectAll("path").data(p).join("path").attr("d",h).attr("fill",u).attr("stroke","#ffffff").attr("stroke-width","3px").style("opacity",1),y=w(o,t=>t.cost);o.forEach(t=>{t.percentage=Math.round(t.cost/y*100)});const m=r.selectAll("text").data(p).join("text").attr("transform",t=>`translate(${g.centroid(t)})`).text(t=>`${t.data.item} ${t.data.percentage}%`).style("text-anchor","middle").style("font-size",16).style("fill","black");x.style("cursor","pointer").on("mouseover",(t,s)=>{e(t.target).transition().duration(500).style("transform","scale(1.1)"),m.filter(n=>n.index===s.index).transition().duration(500).style("font-size","24px")}).on("mousemove",t=>{e(t.target).style("filter","drop-shadow(2px 4px 6px #000000)")}).on("mouseleave",(t,s)=>{e(t.target).transition().duration(500).style("filter","drop-shadow(0 0 0 black)").style("transform","scale(1)"),m.filter(n=>n.index===s.index).transition().duration(500).style("font-size","16px")})}),(f,r)=>(D(),A("svg",{ref_key:"pieChartSvgRef",ref:l,width:i,height:c},null,512))}};export{J as default};
