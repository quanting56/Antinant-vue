import{s as w}from"./transform-B_k4wlz9.js";import{i as A}from"./init-Gi6I4Gst.js";import{r as v,o as S,c as x,f as C}from"./index-4wr-KfXx.js";import{a as D}from"./array-BKyUJesY.js";import{c}from"./constant-BhYcI2Bl.js";class m extends Map{constructor(t,r=M){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,o]of t)this.set(a,o)}get(t){return super.get(g(this,t))}has(t){return super.has(g(this,t))}set(t,r){return super.set(T(this,t),r)}delete(t){return super.delete(b(this,t))}}function g({_intern:n,_key:t},r){const a=t(r);return n.has(a)?n.get(a):r}function T({_intern:n,_key:t},r){const a=t(r);return n.has(a)?n.get(a):(n.set(a,r),r)}function b({_intern:n,_key:t},r){const a=t(r);return n.has(a)&&(r=n.get(a),n.delete(a)),r}function M(n){return n!==null&&typeof n=="object"?n.valueOf():n}const p=Symbol("implicit");function d(){var n=new m,t=[],r=[],a=p;function o(e){let s=n.get(e);if(s===void 0){if(a!==p)return a;n.set(e,s=t.push(e)-1)}return r[s%r.length]}return o.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new m;for(const s of e)n.has(s)||n.set(s,t.push(s)-1);return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(a=e,o):a},o.copy=function(){return d(t,r).unknown(a)},A.apply(o,arguments),o}function k(n,t){if((s=n.length)>1)for(var r=1,a,o,e=n[t[0]],s,i=e.length;r<s;++r)for(o=e,e=n[t[r]],a=0;a<i;++a)e[a][1]+=e[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function y(n){for(var t=n.length,r=new Array(t);--t>=0;)r[t]=t;return r}function R(n,t){return n[t]}function z(n){const t=[];return t.key=n,t}function B(){var n=c([]),t=y,r=k,a=R;function o(e){var s=Array.from(n.apply(this,arguments),z),i,u=s.length,f=-1,l;for(const h of e)for(i=0,++f;i<u;++i)(s[i][f]=[0,+a(h,s[i].key,f,e)]).data=h;for(i=0,l=D(t(s));i<u;++i)s[l[i]].index=i;return r(s,l),s}return o.keys=function(e){return arguments.length?(n=typeof e=="function"?e:c(Array.from(e)),o):n},o.value=function(e){return arguments.length?(a=typeof e=="function"?e:c(+e),o):a},o.order=function(e){return arguments.length?(t=e==null?y:typeof e=="function"?e:c(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(r=e??k,o):r},o}const P={__name:"D3jsStacksDemo",setup(n){const t=v(null);return S(()=>{const r=[{month:new Date(2023,0,1),China:132,America:120,Taiwan:30},{month:new Date(2023,1,1),China:70,America:127,Taiwan:98},{month:new Date(2023,2,1),China:130,America:33,Taiwan:118},{month:new Date(2023,3,1),China:60,America:90,Taiwan:60}],o=B().keys(["China","America","Taiwan"])(r),e=d().domain(["China","America","Taiwan"]).range(["red","blue","orange"]);w(t.value).attr("width",300).selectAll(t.value.g).data(o).enter().append("g").attr("fill",i=>e(i.key)).selectAll("rect").data(i=>i).join("rect").attr("width",i=>i[1]-i[0]).attr("x",i=>i[0]).attr("y",(i,u)=>u*35).attr("height",20)}),(r,a)=>(C(),x("svg",{ref_key:"stackSvgRef",ref:t,width:"500",height:"140"},null,512))}};export{P as default};
