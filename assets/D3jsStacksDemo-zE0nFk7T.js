import"./transform-BGpuWWbS.js";import{o as k}from"./ordinal-Cboi1Yqb.js";import{r as p,o as y,c as d,f as w}from"./index-Dky9J6f4.js";import{a as A}from"./array-BKyUJesY.js";import{c as s}from"./constant-BhYcI2Bl.js";import{s as v}from"./select-DjWNcqeN.js";import"./init-Gi6I4Gst.js";function h(a,e){if((i=a.length)>1)for(var c=1,o,r,t=a[e[0]],i,n=t.length;c<i;++c)for(r=t,t=a[e[c]],o=0;o<n;++o)t[o][1]+=t[o][0]=isNaN(r[o][1])?r[o][0]:r[o][1]}function g(a){for(var e=a.length,c=new Array(e);--e>=0;)c[e]=e;return c}function C(a,e){return a[e]}function D(a){const e=[];return e.key=a,e}function S(){var a=s([]),e=g,c=h,o=C;function r(t){var i=Array.from(a.apply(this,arguments),D),n,f=i.length,u=-1,l;for(const m of t)for(n=0,++u;n<f;++n)(i[n][u]=[0,+o(m,i[n].key,u,t)]).data=m;for(n=0,l=A(e(i));n<f;++n)i[l[n]].index=n;return c(i,l),i}return r.keys=function(t){return arguments.length?(a=typeof t=="function"?t:s(Array.from(t)),r):a},r.value=function(t){return arguments.length?(o=typeof t=="function"?t:s(+t),r):o},r.order=function(t){return arguments.length?(e=t==null?g:typeof t=="function"?t:s(Array.from(t)),r):e},r.offset=function(t){return arguments.length?(c=t??h,r):c},r}const b={__name:"D3jsStacksDemo",setup(a){const e=p(null);return y(()=>{const c=[{month:new Date(2023,0,1),China:132,America:120,Taiwan:30},{month:new Date(2023,1,1),China:70,America:127,Taiwan:98},{month:new Date(2023,2,1),China:130,America:33,Taiwan:118},{month:new Date(2023,3,1),China:60,America:90,Taiwan:60}],r=S().keys(["China","America","Taiwan"])(c),t=k().domain(["China","America","Taiwan"]).range(["red","blue","orange"]);v(e.value).attr("width",300).selectAll(e.value.g).data(r).enter().append("g").attr("fill",n=>t(n.key)).selectAll("rect").data(n=>n).join("rect").attr("width",n=>n[1]-n[0]).attr("x",n=>n[0]).attr("y",(n,f)=>f*35).attr("height",20)}),(c,o)=>(w(),d("svg",{ref_key:"stackSvgRef",ref:e,width:"500",height:"140"},null,512))}};export{b as default};
