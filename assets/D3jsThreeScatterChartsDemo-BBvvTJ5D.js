import"./transform-DNQUPihx.js";import{c as T}from"./第11屆全國不分區及僑居國外國民立法委員選舉各政黨在北北基桃各投開票所得票數一覽表-CaMA2Gpg.js";import{l as h}from"./linear-IoaARM7T.js";import{m as $}from"./max-DBeXZoyG.js";import{r as m,o as D,c as j,f as z,b as d,F as M}from"./index-DDK2NpsC.js";import{s as e}from"./select-1EGbaqqT.js";import{c as A}from"./dsv-CbZ0YcQP.js";import{b as u}from"./defaultLocale-B0Uv6ZVb.js";import{a as F,c as G}from"./axis-qL51v-F_.js";import{p as O}from"./pointer-BV9FWJ6s.js";import"./continuous-DdKr3jbY.js";import"./value-BWAEs6ZY.js";import"./round-O1hten6x.js";import"./init-Dmth1JHB.js";import"./text-5Xu4kz8q.js";const l=600,n=400,tt={__name:"D3jsThreeScatterChartsDemo",setup(E){const g=m(null),y=m(null),_=m(null),a={top:20,right:20,bottom:50,left:63};async function i(c,r,v){const s=e(c).append("svg").attr("width",l).attr("height",n),p=3,f=await A(T),C=f.map(t=>u(".4f")(t[r])),S=f.filter((t,o)=>o!==61).map(t=>+t.人口數),x=h().domain([0,$(S)*1.15]).range([a.left,l-a.right]).nice(),k=F(x);s.append("g").attr("transform",`translate(0, ${n-a.bottom})`).call(k),s.append("text").attr("fill","#000000").attr("x",`${l-a.right*6}`).attr("y",`${n-a.bottom/6}`).text("人口數").style("font-family","sans-serif").style("font-size","14px");const b=h().domain([0,$(C)]).range([n-a.bottom,a.top]).nice(),w=G(b);s.append("g").attr("transform",`translate(${a.left}, 0)`).call(w),s.append("text").attr("fill","#000000").attr("x",`${a.left/4}`).attr("y",`${a.top*4}`).style("font-family","sans-serif").style("font-size","14px").selectAll("tspan").data(r.split("")).join("tspan").attr("x",`${a.left/6}`).attr("dy","1.1em").text(t=>t),s.append("g").selectAll("circle").data(f).join("circle").attr("cx",t=>x(t.人口數)).attr("cy",t=>b(t[r])).attr("r",p).attr("fill",v).style("cursor","pointer").on("mouseover",B).on("mouseout",P),e("#basicScatterPractice1").style("position","relative").append("div").attr("class","basicScatterPractice1Tooltip").style("position","absolute");function B(t){e(".basicScatterPracticeTooltip").remove(),e(this).attr("r",p*2).attr("fill","black");let o=O(t,t.target);e(c).style("position","relative").append("div").attr("class","basicScatterPracticeTooltip").style("position","absolute").html(`<p style="margin: 0;">
                      <strong>${t.target.__data__.縣市+t.target.__data__.行政區}</strong><br>
                      2024一月人口數：${u(",")(t.target.__data__.人口數)}<br>
                      ${r}：${u(".2f")(t.target.__data__[r]*100)}%
                    </p>`).style("left",`${o[0]+10<l?o[0]+10:o[0]-a}px`).style("top",`${o[1]}px`).style("background-color","#121212").style("color","#f2f2f2").style("border","#f2f2f2").style("border-radius","8px").style("padding","6px").style("font-family","sans-serif").style("font-size","12px").style("white-space","nowrap").style("opacity","0.85")}function P(){e(this).attr("r",p).attr("fill",v),e(".basicScatterPracticeTooltip").remove()}}return D(()=>{i(g.value,"該行政區國民黨得票率","#000095"),i(y.value,"該行政區民進黨得票率","#1B9431"),i(_.value,"該行政區民眾黨得票率","#28C8C8")}),(c,r)=>(z(),j(M,null,[d("div",{ref_key:"svgContainer1",ref:g},null,512),d("div",{ref_key:"svgContainer2",ref:y},null,512),d("div",{ref_key:"svgContainer3",ref:_},null,512)],64))}};export{tt as default};
