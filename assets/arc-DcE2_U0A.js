import{c as j}from"./constant-BhYcI2Bl.js";import{w as tn}from"./path-CsjuoHvu.js";const sn=Math.abs,c=Math.atan2,F=Math.cos,on=Math.max,en=Math.min,w=Math.sin,J=Math.sqrt,y=1e-12,K=Math.PI,X=K/2,cn=2*K;function ln(s){return s>1?0:s<-1?K:Math.acos(s)}function un(s){return s>=1?X:s<=-1?-X:Math.asin(s)}function fn(s){return s.innerRadius}function yn(s){return s.outerRadius}function gn(s){return s.startAngle}function hn(s){return s.endAngle}function mn(s){return s&&s.padAngle}function pn(s,x,D,q,v,A,z,a){var E=D-s,i=q-x,n=z-v,h=a-A,r=h*E-n*i;if(!(r*r<y))return r=(n*(x-A)-h*(s-v))/r,[s+r*E,x+r*i]}function W(s,x,D,q,v,A,z){var a=s-D,E=x-q,i=(z?A:-A)/J(a*a+E*E),n=i*E,h=-i*a,r=s+n,t=x+h,l=D+n,f=q+h,B=(r+l)/2,o=(t+f)/2,m=l-r,g=f-t,R=m*m+g*g,M=v-A,T=r*f-l*t,O=(g<0?-1:1)*J(on(0,M*M*R-T*T)),S=(T*g-m*O)/R,b=(-T*m-g*O)/R,P=(T*g+m*O)/R,p=(-T*m+g*O)/R,d=S-B,e=b-o,u=P-B,C=p-o;return d*d+e*e>u*u+C*C&&(S=P,b=p),{cx:S,cy:b,x01:-n,y01:-h,x11:S*(v/M-1),y11:b*(v/M-1)}}function vn(){var s=fn,x=yn,D=j(0),q=null,v=gn,A=hn,z=mn,a=null,E=tn(i);function i(){var n,h,r=+s.apply(this,arguments),t=+x.apply(this,arguments),l=v.apply(this,arguments)-X,f=A.apply(this,arguments)-X,B=sn(f-l),o=f>l;if(a||(a=n=E()),t<r&&(h=t,t=r,r=h),!(t>y))a.moveTo(0,0);else if(B>cn-y)a.moveTo(t*F(l),t*w(l)),a.arc(0,0,t,l,f,!o),r>y&&(a.moveTo(r*F(f),r*w(f)),a.arc(0,0,r,f,l,o));else{var m=l,g=f,R=l,M=f,T=B,O=B,S=z.apply(this,arguments)/2,b=S>y&&(q?+q.apply(this,arguments):J(r*r+t*t)),P=en(sn(t-r)/2,+D.apply(this,arguments)),p=P,d=P,e,u;if(b>y){var C=un(b/r*w(S)),L=un(b/t*w(S));(T-=C*2)>y?(C*=o?1:-1,R+=C,M-=C):(T=0,R=M=(l+f)/2),(O-=L*2)>y?(L*=o?1:-1,m+=L,g-=L):(O=0,m=g=(l+f)/2)}var G=t*F(m),H=t*w(m),N=r*F(M),Q=r*w(M);if(P>y){var U=t*F(g),V=t*w(g),Y=r*F(R),Z=r*w(R),I;if(B<K)if(I=pn(G,H,Y,Z,U,V,N,Q)){var $=G-I[0],k=H-I[1],_=U-I[0],nn=V-I[1],an=1/w(ln(($*_+k*nn)/(J($*$+k*k)*J(_*_+nn*nn)))/2),rn=J(I[0]*I[0]+I[1]*I[1]);p=en(P,(r-rn)/(an-1)),d=en(P,(t-rn)/(an+1))}else p=d=0}O>y?d>y?(e=W(Y,Z,G,H,t,d,o),u=W(U,V,N,Q,t,d,o),a.moveTo(e.cx+e.x01,e.cy+e.y01),d<P?a.arc(e.cx,e.cy,d,c(e.y01,e.x01),c(u.y01,u.x01),!o):(a.arc(e.cx,e.cy,d,c(e.y01,e.x01),c(e.y11,e.x11),!o),a.arc(0,0,t,c(e.cy+e.y11,e.cx+e.x11),c(u.cy+u.y11,u.cx+u.x11),!o),a.arc(u.cx,u.cy,d,c(u.y11,u.x11),c(u.y01,u.x01),!o))):(a.moveTo(G,H),a.arc(0,0,t,m,g,!o)):a.moveTo(G,H),!(r>y)||!(T>y)?a.lineTo(N,Q):p>y?(e=W(N,Q,U,V,r,-p,o),u=W(G,H,Y,Z,r,-p,o),a.lineTo(e.cx+e.x01,e.cy+e.y01),p<P?a.arc(e.cx,e.cy,p,c(e.y01,e.x01),c(u.y01,u.x01),!o):(a.arc(e.cx,e.cy,p,c(e.y01,e.x01),c(e.y11,e.x11),!o),a.arc(0,0,r,c(e.cy+e.y11,e.cx+e.x11),c(u.cy+u.y11,u.cx+u.x11),o),a.arc(u.cx,u.cy,p,c(u.y11,u.x11),c(u.y01,u.x01),!o))):a.arc(0,0,r,M,R,o)}if(a.closePath(),n)return a=null,n+""||null}return i.centroid=function(){var n=(+s.apply(this,arguments)+ +x.apply(this,arguments))/2,h=(+v.apply(this,arguments)+ +A.apply(this,arguments))/2-K/2;return[F(h)*n,w(h)*n]},i.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:j(+n),i):s},i.outerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:j(+n),i):x},i.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:j(+n),i):D},i.padRadius=function(n){return arguments.length?(q=n==null?null:typeof n=="function"?n:j(+n),i):q},i.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:j(+n),i):v},i.endAngle=function(n){return arguments.length?(A=typeof n=="function"?n:j(+n),i):A},i.padAngle=function(n){return arguments.length?(z=typeof n=="function"?n:j(+n),i):z},i.context=function(n){return arguments.length?(a=n??null,i):a},i}export{vn as a,w as b,F as c,y as e,en as m,K as p,J as s,cn as t};
