import{t as m,c as f,a as M,b,d as p}from"./continuous-DdKr3jbY.js";import{i as v}from"./init-Dmth1JHB.js";import{e as h,f as x,a as k,b as d}from"./defaultLocale-B0Uv6ZVb.js";function g(t){return Math.max(0,-h(Math.abs(t)))}function y(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(h(r)/3)))*3-h(Math.abs(t)))}function N(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,h(r)-h(t))+1}function F(t,r,e,a){var i=m(t,r,e),s;switch(a=x(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return a.precision==null&&!isNaN(s=y(i,o))&&(a.precision=s),k(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=N(i,Math.max(Math.abs(t),Math.abs(r))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=g(i))&&(a.precision=s-(a.type==="%")*2);break}}return d(a)}function w(t){var r=t.domain;return t.ticks=function(e){var a=r();return b(a[0],a[a.length-1],e??10)},t.tickFormat=function(e,a){var i=r();return F(i[0],i[i.length-1],e??10,a)},t.nice=function(e){e==null&&(e=10);var a=r(),i=0,s=a.length-1,o=a[i],u=a[s],l,n,c=10;for(u<o&&(n=o,o=u,u=n,n=i,i=s,s=n);c-- >0;){if(n=p(o,u,e),n===l)return a[i]=o,a[s]=u,r(a);if(n>0)o=Math.floor(o/n)*n,u=Math.ceil(u/n)*n;else if(n<0)o=Math.ceil(o*n)/n,u=Math.floor(u*n)/n;else break;l=n}return t},t}function I(){var t=f();return t.copy=function(){return M(t,I())},v.apply(t,arguments),w(t)}export{w as a,y as b,N as c,I as l,g as p,F as t};
